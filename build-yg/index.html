<!doctypehtml><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"name=viewport><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><title>PvZ Portable</title><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background:#000;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}#canvas{display:block;width:100%;height:100%}#loading{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font:20px sans-serif;text-align:center;z-index:10}#loading .bar{width:300px;height:20px;border:2px solid #555;margin:10px auto;border-radius:4px}#loading .fill{height:100%;background:#4a0;width:0%;transition:width .2s;border-radius:4px}</style><script src=https://yandex.ru/games/sdk/v2></script></head><body><div id=loading><div>Loading PvZ Portable...</div><div class=bar><div id=progress class=fill></div></div><div id=status>Initializing SDK...</div></div><canvas id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas><script>var ysdk=null,ygPlayer=null;window.YG={sdk:null,player:null,ready:!1,init:function(){return YaGames.init().then((function(e){return ysdk=e,window.YG.sdk=e,document.getElementById("status").textContent="SDK ready, loading game...",e.getPlayer({scopes:!1}).then((function(e){ygPlayer=e,window.YG.player=e})).catch((function(){}))}))},signalReady:function(){ysdk&&ysdk.features&&ysdk.features.LoadingAPI&&ysdk.features.LoadingAPI.ready(),window.YG.ready=!0;var e=document.getElementById("loading");e&&(e.style.display="none")},showInterstitial:function(){ysdk&&ysdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){Module._pvz_yg_on_ad_open&&Module._pvz_yg_on_ad_open()},onClose:function(){Module._pvz_yg_on_ad_close&&Module._pvz_yg_on_ad_close()},onError:function(){Module._pvz_yg_on_ad_close&&Module._pvz_yg_on_ad_close()}}})},showRewarded:function(e){ysdk&&ysdk.adv.showRewardedVideo({callbacks:{onOpen:function(){Module._pvz_yg_on_ad_open&&Module._pvz_yg_on_ad_open()},onRewarded:function(){e&&e()},onClose:function(){Module._pvz_yg_on_ad_close&&Module._pvz_yg_on_ad_close()},onError:function(){Module._pvz_yg_on_ad_close&&Module._pvz_yg_on_ad_close()}}})},saveData:function(e,n){if(!ygPlayer){try{localStorage.setItem("yg_save_"+e,n)}catch(e){}return Promise.resolve(!0)}var t={};return t[e]=n,ygPlayer.setData(t,!0).then((function(){return!0})).catch((function(){return!1}))},loadData:function(e){return ygPlayer?ygPlayer.getData([e]).then((function(n){return n[e]||null})).catch((function(){return null})):Promise.resolve(localStorage.getItem("yg_save_"+e))},deleteData:function(e){if(!ygPlayer)return localStorage.removeItem("yg_save_"+e),Promise.resolve(!0);var n={};return n[e]=void 0,ygPlayer.setData(n,!0).then((function(){return!0})).catch((function(){return!1}))}},document.addEventListener("visibilitychange",(function(){document.hidden?void 0!==Module&&Module._pvz_yg_on_visibility_hidden&&Module._pvz_yg_on_visibility_hidden():void 0!==Module&&Module._pvz_yg_on_visibility_visible&&Module._pvz_yg_on_visibility_visible()})),document.addEventListener("contextmenu",(function(e){e.preventDefault()}));var Module={canvas:document.getElementById("canvas"),setStatus:function(e){var n=document.getElementById("status");n&&(n.textContent=e);var t=e.match(/(\d+)\/(\d+)/);if(t){var o=Math.round(100*parseInt(t[1])/parseInt(t[2])),a=document.getElementById("progress");a&&(a.style.width=o+"%")}},onRuntimeInitialized:function(){document.getElementById("status").textContent="Loading assets..."}};window.onerror=function(e){Module.setStatus("Error: "+e)},window.YG.init().then((function(){}))</script><script src=index.js async></script></body></html>